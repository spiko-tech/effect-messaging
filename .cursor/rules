# Cursor Rules for effect-messaging

## Changeset Management

Always use changesets for version management:

- Run `pnpm changeset` after making changes that should trigger version bumps
- Use patch bumps for dependency updates and bug fixes (default)
- Use minor bumps for new features
- Use major bumps for breaking changes
- Include specific version numbers in dependency update summaries
- Test builds before creating changesets

## Dependencies

When updating dependencies:
- Update root package.json and all relevant package-specific package.json files
- Run `pnpm changeset` to create version bump
- Use patch version for dependency updates
- Include specific version ranges in changeset summary

## Effect Libraries

This project uses Effect ecosystem libraries:
- effect (core library)
- @effect/platform (platform abstractions)
- @effect/vitest (testing utilities)
- @effect/build-utils (build tooling)

Keep these in sync across all packages and maintain compatibility.

## Testing

Before any changes:
- Run `pnpm build` to ensure code compiles
- Run `pnpm test` to ensure tests pass  
- Run `pnpm lint` to check code style

## Publishing

Use these commands for releases:
- `pnpm changeset-version` - bump versions and generate changelogs
- `pnpm changeset-publish` - publish to npm

Never manually edit package.json versions - always use changesets.